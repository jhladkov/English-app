const learnWordsWrapper=document.querySelector(".list-wrapper");let numberSelectedWords=document.querySelector(".list-title-check");const moreWords=document.querySelector(".list-more"),checkNeedKnow=document.querySelector(".know"),checkAlreadyKnow=document.querySelector(".already-know");let learnWordInner,alreadyKnowButton,englishWord,rusWord,learnWord,alreadyKnowWordsArr=[],needKnowWordsArr=[],englishWordsArr=["able"," ability","about","above"," accept","according","account","across","act","action","activity","actually","add","address","administration","admit","adult","affect","after","again","against","age","agency","agent","ago","agree","agreement","ahead","air","all","allow","almost","alone","along","already","also","although","always","American","among","another","answer","any","anyone","anything","appear","apply","approach","area","argue","arm","around","arrive","art","article","artist","as","ask","assume","at","attack","attention","attorney","audience","author","authority","available","avoid","away","baby","back","bad","bag","ball","bank","bar","base","be","beat","beautiful","because","become","bed","before","begin","behavior","behind","believe","benefit","best","better","between","beyond","big","bill","billion","bit","black","blood","blue","board","body","book","born","both","box","boy","break","bring","brother","budget","build","building","business","but","buy","by","call","camera","campaign","can","cancer","candidate","capital","care","career","carry","case","catch","cause","cell","center","central","century","certain","certainly","chair","challenge","chance","change","character","charge","check","child","choice","choose","church","citizen","city","civil","claim","class","clear","clearly","close","coach","cold","collection","college","color","come","commercial","common","community","company","compare","computer","concern","condition","conference","Congress","consider","consumer","contain","continue","control","cost","could","country","couple","course","court","cover","create","crime","cultural","culture","cup","current","customer","cut","dark","data","daughter","day","dead","deal","death","debate","decade","decide","decision","deep","defense","degree","Democrat","democratic","describe","design","despite","detail","determine","develop","development","die","difference","different","difficult","dinner","direction","director","discover","discuss","discussion","disease","do","doctor","dog","door","down","draw","dream","drive","drop","drug","during","each","early","east","easy","eat","economic","economy","edge","education","effect","effort","eight","either","election","else","employee","end","energy","enjoy","enough"],rusWordsArr=["способный","способность","о","выше","принимать","в соответствии","учетная запись","через","действовать","действие","Мероприятия","фактически","Добавлять","адрес","администрация","признавать","взрослый","оказывать воздействие","после","очередной раз","против"," возраст","агентство"," агент","тому назад","дать согласие","соглашение","предстоящий","воздуха","все","позволять","почти","один"," вдоль","уже","также","хотя","всегда","Американец","среди","Другой","отвечать","любой","кто-нибудь","что-нибудь","появляться","применять","подход","область","спорить","рука","вокруг","прибыть","Изобразительное искусство","статья","художник"," в виде","спросить","предполагать","в","атака","внимание","адвокат","аудитория","автор","власть","имеется в наличии","избегать","далеко","малыш","назад","Плохо","мешок","","мяч","банк","бар","база","быть","бить","красивая","так как","стали","кровать","перед","начинать","поведение","за","полагать","выгода","Лучший","лучше","между","вне","большой","законопроект","миллиард","немного","чернить","кровь","синий","доска","тело","книга","родившийся","оба","коробка","мальчик","перерыв","приносить","родной брат","бюджет","строить","строительство","бизнес","но","купить","от","вызов","камера","кампания","может","рак","кандидат","столица","забота","карьера","нести","дело","ловить","причина","клетка","центр","центральный","век","определенный","безусловно","стул","вызов","шанс","менять","персонаж","заряжать","проверять","ребенок","выбор","выберите","церковь","гражданин","город","гражданский","требовать","класс","Чисто","четко","Закрыть","тренер","холодный","коллекция","колледж","цвет","прийти","коммерческий","общий","сообщество","Компания","сравнивать","компьютер","беспокойство","условие","конференция","Конгресс","рассмотреть возможность","потребитель","содержать","Продолжать","контроль","Стоимость","мог","страна","пара","курс","корт","покрытие","Создайте","преступление","культурный","культура","чашка","Текущий","клиент","резать","темный","данные","дочь","день","мертвых","иметь дело","смерть","дебаты","десятилетие","решать","решение","глубокий","защита","степень","Демократ","демократичный","описывать","дизайн","несмотря на","деталь","определять","развивать","разработка","умри","разница","разные","трудный","обед","направление","директор","обнаружить","обсуждать","обсуждение","болезнь","делать","доктор","собака","дверь","вниз","рисовать","мечтать","привод","уронить","лекарство","в течение","каждый","рано","Восток","легкий","есть","экономический","экономия","край","образование","эффект","усилие","восемь","либо","выборы","еще","работник","конец","энергия","наслаждаться","достаточно"];const updateDOM=()=>{learnWordInner=Array.from(document.querySelectorAll(".list-wrapper-inner")),alreadyKnowButton=Array.from(document.querySelectorAll(".already")),englishWord=document.querySelectorAll(".list-wrapper-english-word"),rusWord=document.querySelectorAll(".list-wrapper-rus-word"),learnWord=document.querySelectorAll(".need-know")},addWords=(e,r)=>{r.reduce((a,t,o)=>10!==a?(learnWordsWrapper.insertAdjacentHTML("afterbegin",`\n                        <div class="list-wrapper-inner">\n                            <p class="list-wrapper-english-word">${e[o]}</p>\n                            <hr>\n                            <p class="list-wrapper-rus-word">${t}</p>\n                            <button class="list-wrapper-word need-know">Учить слово</button>\n                            <button class="list-wrapper-word already">Уже знаю</button>\n                        </div>\n                    `),e.splice(o,1),r.splice(o,1),addWordInAlreadyKnowList(),addWordInNeedKnowList(),++a):10,0)};moreWords.onclick=()=>{addWords(englishWordsArr,rusWordsArr)};const addWordInAlreadyKnowList=()=>{updateDOM(),alreadyKnowButton.forEach((e,r)=>{e.onclick=async()=>{learnWordInner[r].remove(),alreadyKnowWordsArr.push([englishWord[r].textContent,rusWord[r].textContent]),await setCheckDataInStorage(null,checkAlreadyKnow)}})},addWordInNeedKnowList=()=>{updateDOM(),learnWord.forEach((e,r)=>{e.onclick=async()=>{learnWordInner[r].remove(),needKnowWordsArr.push([englishWord[r].textContent,rusWord[r].textContent]),await setCheckDataInStorage(checkNeedKnow),numberSelectedWords.innerHTML=JSON.parse(localStorage.getItem("needKnow")).length,removeWordThatSelected(),blockUse()}})},createStartEnglishArr=e=>{let r=[];e.forEach(e=>r.push(e[0])),r.reduce((e,r)=>{let a=e.filter(e=>e!==r);return localStorage.setItem("startEnglishArr",JSON.stringify(a)),a},englishWordsArr)},createStartRusArr=e=>{let r=[];e.forEach(e=>r.push(e[1])),r.reduce((e,r)=>{let a=e.filter(e=>e!==r);return localStorage.setItem("startRusArr",JSON.stringify(a)),a},rusWordsArr)},assignNewValueStartingArr=()=>{rusWordsArr=JSON.parse(localStorage.getItem("startRusArr")),englishWordsArr=JSON.parse(localStorage.getItem("startEnglishArr"))},removeWordThatSelected=()=>{let e=JSON.parse(localStorage.getItem("alreadyKnow")),r=JSON.parse(localStorage.getItem("needKnow"));e&&(createStartEnglishArr(e),createStartRusArr(e),assignNewValueStartingArr()),r&&(createStartEnglishArr(r),createStartRusArr(r),assignNewValueStartingArr())},setCheckDataInStorage=async(e,r,a)=>{a&&(localStorage.getItem("checkAlreadyKnow")&&(document.querySelector(".already-know").innerHTML=localStorage.getItem("checkAlreadyKnow")),localStorage.getItem("checkNeedKnow")&&(document.querySelector(".know").innerHTML=localStorage.getItem("checkNeedKnow"),document.querySelector(".list-title-check").innerHTML=JSON.parse(localStorage.getItem("checkNeedKnow")))),r&&(await localStorage.setItem("alreadyKnow",JSON.stringify(alreadyKnowWordsArr)),await localStorage.setItem("checkAlreadyKnow",JSON.stringify(JSON.parse(localStorage.getItem("alreadyKnow")).length)),r.innerHTML=localStorage.getItem("checkAlreadyKnow")),e&&(await localStorage.setItem("needKnow",JSON.stringify(needKnowWordsArr)),await localStorage.setItem("checkNeedKnow",JSON.stringify(JSON.parse(localStorage.getItem("needKnow")).length)),e.innerHTML=localStorage.getItem("checkNeedKnow"))},blockUse=e=>{e||10===JSON.parse(localStorage.getItem("needKnow")).length?(localStorage.setItem("blockUse",!0),learnWordsWrapper.innerHTML="<p>На сегодня все, приходите завтра</p>",moreWords.disabled=!0,localStorage.setItem("tomorrow",JSON.stringify((new Date).getDate()+1))):moreWords.disabled=!1};window.onload=async()=>{removeWordThatSelected(),await addWords(englishWordsArr,rusWordsArr),await setCheckDataInStorage(null,null,!0),(new Date).getDate()===JSON.parse(localStorage.getItem("tomorrow"))&&localStorage.setItem("blockUse",!1),localStorage.getItem("alreadyKnow")&&(alreadyKnowWordsArr=JSON.parse(localStorage.getItem("alreadyKnow"))),localStorage.getItem("needKnow")&&(needKnowWordsArr=JSON.parse(localStorage.getItem("needKnow"))),JSON.parse(localStorage.getItem("blockUse"))&&blockUse(JSON.parse(localStorage.getItem("blockUse")))};